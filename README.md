# 微众银行“活期+plus”类理财产品调仓决策工具

这是一个基于Web的本地化决策辅助工具，旨在帮助用户分析和比较微众银行中“活期+plus”类理财产品的近期表现，从而做出更明智的调仓决策。

该工具完全在您的浏览器中运行，所有数据都保存在本地，确保了您的财务数据隐私和安全。

## ✨ 核心功能

- **数据持久化**：您输入的所有产品数据都会自动保存在浏览器的`localStorage`中，下次打开时无需重新输入。
- **灵活的数据管理**：
    - 支持手动添加、删除、上移、下移和置顶产品行。
    - 支持按产品名称进行升序/降序排序。
    - 可通过CSV文件批量导入和导出产品数据。
- **智能日期计算**：自动计算最近的7个交易日作为分析周期，并智能排除周末和法定节假日（内置2025年假期）。
- **多维度指标计算**：
    - **近7日年化收益率**：基于您输入的起始和最新净值进行计算。
    - **综合分数**：独创的加权评分模型（`70% * 近7日年化 + 30% * 成立以来年化`），综合评估产品近期表现和长期稳定性。
- **智能调仓建议**：
    - **加仓建议**：综合评分排名靠前（前25%）且未售罄的产品会被标记为“加仓”。
    - **减仓建议**：综合评分排名靠后（后25%），持有金额大于等于1000元，且与最佳产品分差较大的产品会被标记为“减仓”。
- **可视化分析图表**：
    - **综合分数对比图**：使用条形图展示所有参与排名的产品得分，并从高到低排序，让您对产品表现一目了然。
    - **机构持仓分析**：自动从产品名称中提取机构名（如“华夏理财”），并使用饼图汇总展示您在不同机构的总持仓金额和占比，帮助您评估持仓集中度风险。
- **结果导出与分享**：
    - 可将详细的综合评分排名表导出为PNG图片，方便您记录和分享。
    - 可将综合分数对比图单独导出为PNG图片。
- **隐私保护**：提供“隐藏金额”开关，在截图或分享时保护您的隐私。

## 🚀 如何使用

1.  **打开文件**：直接在您的电脑上用任意现代浏览器（如 Chrome, Firefox, Edge）打开 `webank_deposit_plus.html` 文件。
2.  **输入数据**：
    - 在数据输入表格中，手动填写您持有的产品信息, 这里的比较麻烦的是最近 7 日收益率的数据，需要从微众银行的活期+plus 的理财产品详情页中获取，然后手动录入。
    - 或点击“导入数据 (CSV)”按钮，选择CSV文件（调仓数据.csv）进行批量导入，然后手动修改数据。
3.  **计算与分析**：点击 **“计算并保存”** 按钮。
4.  **查看结果**：页面下方将展示“综合评分排名”表格和分析图表，您可以根据这些信息进行决策。

## ⚙️ 关键逻辑解释

- **不参与排名的产品**：只有当一个产品被标记为“售罄”**且**“持有金额为0”时，它才会被视为无效产品，不参与综合评分排名，并被置于排名表的末尾以删除线格式显示。
- **机构名称提取**：系统默认将产品名称中第一个空格前的内容作为“机构名称”进行统计。例如，在“华夏理财 固收纯债 7R”中，“华夏理财”会被识别为机构。

## 🛠️ 技术栈

- **前端框架**：无。使用原生 JavaScript (ES6) 操作DOM。
- **样式**：[Tailwind CSS](https://tailwindcss.com/)，用于快速构建现代化UI。
- **图表库**：[Chart.js](https://www.chartjs.org/)，用于生成条形图和饼图。
- **HTML转图片**：[html2canvas](https://html2canvas.hertzen.com/)，用于将结果表格导出为图片。
- **数据存储**：浏览器 `localStorage`。
